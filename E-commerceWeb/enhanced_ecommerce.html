<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced E-Commerce Store</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #ffd700;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 25px;
            padding: 0.5rem 1rem;
            width: 300px;
        }

        .search-bar input {
            border: none;
            outline: none;
            flex: 1;
            padding: 0.5rem;
        }

        .search-bar button {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .search-bar button:hover {
            background: #5a6fd8;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .cta-button {
            background: #ffd700;
            color: #333;
            padding: 1rem 2rem;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .categories {
            padding: 4rem 0;
            background: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .category-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .category-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #667eea;
        }

        .products {
            padding: 4rem 0;
            background: #f8f9fa;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .product-price {
            font-size: 1.3rem;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .add-to-cart {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease;
            width: 100%;
        }

        .add-to-cart:hover {
            background: #5a6fd8;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .close:hover {
            color: #333;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-button {
            width: 100%;
            background: #667eea;
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .form-button:hover {
            background: #5a6fd8;
        }

        .form-switch {
            text-align: center;
            margin-top: 1rem;
        }

        .form-switch a {
            color: #667eea;
            text-decoration: none;
            font-weight: bold;
        }

        .form-switch a:hover {
            text-decoration: underline;
        }

        .user-menu {
            position: relative;
            display: inline-block;
        }

        .user-menu-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: white;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-radius: 8px;
            z-index: 1001;
        }

        .user-menu-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s;
        }

        .user-menu-content a:hover {
            background-color: #f1f1f1;
        }

        .user-menu:hover .user-menu-content {
            display: block;
        }

        .footer {
            background: #333;
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #ffd700;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: #ffd700;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #555;
            color: #ccc;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: #666;
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: #666;
        }

        .no-results h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            .search-bar {
                width: 100%;
                max-width: 300px;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .modal-content {
                margin: 10% auto;
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">üõí ShopHub</a>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search products...">
                <button onclick="performSearch()">üîç</button>
            </div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#products">Products</a></li>
                <li><a href="#categories">Categories</a></li>
                <li><a href="#cart" id="cartLink">üõí Cart (0)</a></li>
                <li id="authSection">
                    <a href="#" onclick="showLoginModal()" id="loginLink">Login</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Welcome to ShopHub</h1>
            <p>Discover amazing products at unbeatable prices. Shop the latest trends and find everything you need in one place.</p>
            <button class="cta-button" onclick="scrollToProducts()">Shop Now</button>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories" id="categories">
        <div class="container">
            <h2 class="section-title">Shop by Category</h2>
            <div class="category-grid">
                <div class="category-card" onclick="filterByCategory('electronics')">
                    <div class="category-icon">üì±</div>
                    <h3>Electronics (25)</h3>
                    <p>Latest gadgets and tech</p>
                </div>
                <div class="category-card" onclick="filterByCategory('fashion')">
                    <div class="category-icon">üëï</div>
                    <h3>Fashion (25)</h3>
                    <p>Trendy clothing & accessories</p>
                </div>
                <div class="category-card" onclick="filterByCategory('home')">
                    <div class="category-icon">üè†</div>
                    <h3>Home & Garden (25)</h3>
                    <p>Everything for your home</p>
                </div>
                <div class="category-card" onclick="filterByCategory('sports')">
                    <div class="category-icon">‚öΩ</div>
                    <h3>Sports (15)</h3>
                    <p>Equipment and activewear</p>
                </div>
                <div class="category-card" onclick="filterByCategory('books')">
                    <div class="category-icon">üìö</div>
                    <h3>Books (10)</h3>
                    <p>Knowledge and entertainment</p>
                </div>
                <div class="category-card" onclick="filterByCategory('beauty')">
                    <div class="category-icon">üíÑ</div>
                    <h3>Beauty (10)</h3>
                    <p>Health and beauty products</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Products -->
    <section class="products" id="products">
        <div class="container">
            <h2 class="section-title">Featured Products</h2>
            <div class="product-grid" id="productGrid">
                <div class="loading">Loading products...</div>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="loginForm">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #333;">Login</h2>
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password">
                </div>
                <button class="form-button" onclick="login()">Login</button>
                <div class="form-switch">
                    <p>Don't have an account? <a href="#" onclick="showRegisterForm()">Register</a></p>
                </div>
            </div>
            <div id="registerForm" style="display: none;">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #333;">Register</h2>
                <div class="form-group">
                    <label for="registerName">Full Name</label>
                    <input type="text" id="registerName" placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" placeholder="Enter your password">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm your password">
                </div>
                <button class="form-button" onclick="register()">Register</button>
                <div class="form-switch">
                    <p>Already have an account? <a href="#" onclick="showLoginForm()">Login</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About ShopHub</h3>
                    <p>Your trusted online shopping destination for quality products and exceptional service.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#categories">Categories</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Customer Service</h3>
                    <ul>
                        <li><a href="#help">Help Center</a></li>
                        <li><a href="#shipping">Shipping Info</a></li>
                        <li><a href="#returns">Returns</a></li>
                        <li><a href="#track">Track Order</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect With Us</h3>
                    <ul>
                        <li><a href="#facebook">Facebook</a></li>
                        <li><a href="#twitter">Twitter</a></li>
                        <li><a href="#instagram">Instagram</a></li>
                        <li><a href="#youtube">YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ShopHub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Generate 100+ products across all categories
        const generateProducts = () => {
            const products = [];
            let id = 1;

            // Electronics (25 products)
            const electronics = [
                'Wireless Bluetooth Headphones', 'Smart Fitness Watch', '4K Ultra HD TV', 'Gaming Laptop',
                'Wireless Mouse', 'Mechanical Keyboard', 'USB-C Hub', 'Portable Charger', 'Bluetooth Speaker',
                'Webcam HD', 'Microphone USB', 'Tablet 10-inch', 'Smartphone Case', 'Laptop Stand',
                'Monitor 27-inch', 'Printer All-in-One', 'Router WiFi 6', 'External Hard Drive',
                'Wireless Earbuds', 'Smart Home Hub', 'Security Camera', 'Drone with Camera',
                'VR Headset', 'Smart Thermostat', 'Robot Vacuum'
            ];

            electronics.forEach(name => {
                products.push({
                    id: id++,
                    name: name,
                    price: Math.floor(Math.random() * 500) + 50,
                    category: 'electronics',
                    image: `https://picsum.photos/400/300?random=${id}`
                });
            });

            // Fashion (25 products)
            const fashion = [
                'Premium Cotton T-Shirt', 'Designer Jeans', 'Leather Jacket', 'Summer Dress',
                'Running Shoes', 'Formal Shirt', 'Winter Coat', 'Casual Hoodie', 'Denim Shorts',
                'Polo Shirt', 'Blazer Jacket', 'Sneakers White', 'Handbag Leather', 'Sunglasses',
                'Wristwatch', 'Necklace Gold', 'Earrings Silver', 'Belt Leather', 'Scarf Wool',
                'Gloves Winter', 'Socks Cotton', 'Underwear Set', 'Swimsuit', 'Tie Silk',
                'Cap Baseball'
            ];

            fashion.forEach(name => {
                products.push({
                    id: id++,
                    name: name,
                    price: Math.floor(Math.random() * 200) + 20,
                    category: 'fashion',
                    image: `https://picsum.photos/400/300?random=${id}`
                });
            });

            // Home & Garden (25 products)
            const home = [
                'Modern Coffee Table', 'Garden Plant Pots Set', 'LED Floor Lamp', 'Throw Pillows',
                'Kitchen Blender', 'Coffee Maker', 'Toaster Oven', 'Microwave', 'Refrigerator',
                'Washing Machine', 'Dishwasher', 'Vacuum Cleaner', 'Air Purifier', 'Humidifier',
                'Bedside Table', 'Bookshelf', 'Dining Chair', 'Sofa Set', 'Wall Clock',
                'Picture Frame', 'Vase Ceramic', 'Candle Holder', 'Rug Living Room', 'Curtains',
                'Bedding Set'
            ];

            home.forEach(name => {
                products.push({
                    id: id++,
                    name: name,
                    price: Math.floor(Math.random() * 800) + 100,
                    category: 'home',
                    image: `https://picsum.photos/400/300?random=${id}`
                });
            });

            // Sports (15 products)
            const sports = [
                'Professional Soccer Ball', 'Yoga Mat Premium', 'Tennis Racket', 'Basketball',
                'Dumbbells Set', 'Treadmill', 'Exercise Bike', 'Swimming Goggles', 'Cycling Helmet',
                'Running Shorts', 'Sports Bra', 'Gym Bag', 'Resistance Bands', 'Foam Roller',
                'Water Bottle'
            ];

            sports.forEach(name => {
                products.push({
                    id: id++,
                    name: name,
                    price: Math.floor(Math.random() * 300) + 30,
                    category: 'sports',
                    image: `https://picsum.photos/400/300?random=${id}`
                });
            });

            // Books (10 products)
            const books = [
                'The Great Gatsby', 'To Kill a Mockingbird', '1984', 'Pride and Prejudice',
                'The Hobbit', 'Harry Potter Series', 'The Alchemist', 'Rich Dad Poor Dad',
                'Think and Grow Rich', 'The Power of Now'
            ];

            books.forEach(name => {
                products.push({
                    id: id++,
                    name: name,
                    price: Math.floor(Math.random() * 30) + 10,
                    category: 'books',
                    image: `https://picsum.photos/400/300?random=${id}`
                });
            });

            // Beauty (10 products)
            const beauty = [
                'Facial Cleanser', 'Moisturizer SPF 30', 'Eye Cream', 'Lipstick Red',
                'Mascara Volume', 'Foundation Liquid', 'Concealer Stick', 'Blush Powder',
                'Nail Polish Set', 'Hair Dryer'
            ];

            beauty.forEach(name => {
                products.push({
                    id: id++,
                    name: name,
                    price: Math.floor(Math.random() * 100) + 15,
                    category: 'beauty',
                    image: `https://picsum.photos/400/300?random=${id}`
                });
            });

            return products;
        };

        const products = generateProducts();
        let cart = [];
        let currentFilter = 'all';
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('users')) || [];

        // Load products on page load
        document.addEventListener('DOMContentLoaded', function() {
            displayProducts(products);
            updateCartCount();
            checkAuthStatus();
        });

        // Display products
        function displayProducts(productsToShow) {
            const productGrid = document.getElementById('productGrid');
            
            if (productsToShow.length === 0) {
                productGrid.innerHTML = `
                    <div class="no-results">
                        <h3>No products found</h3>
                        <p>Try adjusting your search or filter criteria</p>
                    </div>
                `;
                return;
            }

            productGrid.innerHTML = '';

            productsToShow.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">$${product.price.toFixed(2)}</div>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">
                            Add to Cart
                        </button>
                    </div>
                `;
                productGrid.appendChild(productCard);
            });
        }

        // Filter products by category
        function filterByCategory(category) {
            currentFilter = category;
            const filteredProducts = category === 'all' 
                ? products 
                : products.filter(product => product.category === category);
            displayProducts(filteredProducts);
        }

        // Search functionality
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            
            if (searchTerm === '') {
                displayProducts(currentFilter === 'all' ? products : products.filter(p => p.category === currentFilter));
                return;
            }

            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) ||
                product.category.toLowerCase().includes(searchTerm)
            );
            displayProducts(filteredProducts);
        }

        // Add to cart functionality
        function addToCart(productId) {
            if (!currentUser) {
                showNotification('Please login to add items to cart', 'error');
                return;
            }

            const product = products.find(p => p.id === productId);
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        ...product,
                        quantity: 1
                    });
                }
                updateCartCount();
                showNotification('Product added to cart!');
            }
        }

        // Update cart count in navigation
        function updateCartCount() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            const cartLink = document.getElementById('cartLink');
            cartLink.textContent = `üõí Cart (${cartCount})`;
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? '#e74c3c' : '#667eea'};
                color: white;
                padding: 1rem 2rem;
                border-radius: 5px;
                z-index: 10000;
                animation: slideIn 0.3s ease;
                max-width: 300px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Smooth scroll to products
        function scrollToProducts() {
            document.getElementById('products').scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Modal functions
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
            showLoginForm();
        }

        function closeModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        function showLoginForm() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
        }

        function showRegisterForm() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        // Login function
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                showNotification('Please fill in all fields', 'error');
                return;
            }

            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                closeModal();
                updateAuthUI();
                showNotification('Login successful!');
            } else {
                showNotification('Invalid email or password', 'error');
            }
        }

        // Register function
        function register() {
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (!name || !email || !password || !confirmPassword) {
                showNotification('Please fill in all fields', 'error');
                return;
            }

            if (password !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }

            if (users.find(u => u.email === email)) {
                showNotification('Email already registered', 'error');
                return;
            }

            const newUser = { name, email, password };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            closeModal();
            updateAuthUI();
            showNotification('Registration successful!');
        }

        // Logout function
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            cart = [];
            updateAuthUI();
            updateCartCount();
            showNotification('Logged out successfully');
        }

        // Check authentication status
        function checkAuthStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateAuthUI();
            }
        }

        // Update authentication UI
        function updateAuthUI() {
            const authSection = document.getElementById('authSection');
            if (currentUser) {
                authSection.innerHTML = `
                    <div class="user-menu">
                        <a href="#" style="color: white;">üë§ ${currentUser.name}</a>
                        <div class="user-menu-content">
                            <a href="#" onclick="showProfile()">Profile</a>
                            <a href="#" onclick="showOrders()">Orders</a>
                            <a href="#" onclick="logout()">Logout</a>
                        </div>
                    </div>
                `;
            } else {
                authSection.innerHTML = '<a href="#" onclick="showLoginModal()" id="loginLink">Login</a>';
            }
        }

        // Search on Enter key
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('loginModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Placeholder functions for profile and orders
        function showProfile() {
            showNotification('Profile page coming soon!');
        }

        function showOrders() {
            showNotification('Orders page coming soon!');
        }
    </script>
</body>
</html> 